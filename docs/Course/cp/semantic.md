# Semantic Analysis

## 过渡知识

### 属性文法 | Attribute Grammar

!!! warning
    龙书对此讲解十分详细，本课基于虎书了解概念即可，基本思想 **就是给一些语义规则赋予一些含义**

- 属性文法：上下文无关文法 + 属性 + 属性计算规则
    - **属性**：描述文法符号的语义特征，如变量的类型、值等。例，非终结符 $E$ 的属性 $E\text{.val}$ 表示 $E$ 的值
    - 属性计算规则 (语义规则)：与产生式相关联、反映文法符号属性之间关系的规则，比如“如何计算 $E\text{.val}$”
- 属性计算规则: 仅表明属性间“抽象”关系，不涉及具体实现细节，如计算次序等

> 用属性描述语义信息，用语义规则描述属性之间的关系，将语义规则与语法规则相结合

属性文法的潜在应用大体分为两类（但由于各种局限性，属性文法并未得到普及）

- **"推导类"** 应用：类似程序分析
    - 表达式的类型、值、执行代价等
- **“生成类”** 应用：类似程序合成
    - 抽象语法树生成
    - 中间代码甚至汇编生成

??? info "属性文法的实现"
    可通过 Parser 生成器支持的“语义动作” (Semantic action) 实现计算, 并应用于抽象语法树生成等场景

> 本课只需要关注 Yacc, Bison 中的 Semantic Action，以及怎么生成 AST 这些具体应用即可

### Semantic Action






### Abstract Parse Tree



### Position